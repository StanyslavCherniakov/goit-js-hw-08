{"mappings":"mEAAAA,EAUA,SAAmBC,EAAMC,GACvB,IAAIC,EAAKC,EAAMC,EAAKC,EAChBC,EAAO,EAEX,OAAO,WACLJ,EAAMK,KACNJ,EAAOK,UACP,IAAIC,EAAQ,IAAIC,KAASJ,EAIzB,OAHKD,IACCI,GAASR,EAAMU,IACdN,EAAYO,WAAWD,EAAMV,EAAOQ,IACpCL,GAGT,SAASO,IACPN,EAAY,EACZC,GAAQ,IAAII,KACZN,EAAMJ,EAAKa,MAAMX,EAAKC,GACtBD,EAAM,KACNC,EAAO,OC3BX,IAAMW,EAAUC,SAASC,cAAc,kBACvCF,EAAQG,iBAAiB,QAASC,EAAAnB,EAAA,EAOlC,SAAiBoB,GACfC,EAAKD,EAAIE,OAAOC,MAAQH,EAAIE,OAAOE,MACnCC,aAAaC,QAAQC,EAAaC,KAAKC,UAAUR,MATC,MACpDN,EAAQG,iBAAiB,UAqBzB,SAAsBE,GACpBA,EAAIU,iBACJC,QAAQC,IAAIX,GACZD,EAAIa,cAAcC,QAClBT,aAAaU,WAAWR,MAxB1B,IAAMA,EAAc,sBACdN,EAAO,IASb,WACE,IAAMe,EAAYR,KAAKS,MAAMZ,aAAaa,QAAQX,IAClD,GAAIS,EAAW,CACb,IAAMG,EAAWxB,EAAQE,cAAc,SACjCuB,EAAczB,EAAQE,cAAc,YAC1CsB,EAASf,MAAQY,EAAUK,MAC3BD,EAAYhB,MAAQY,EAAUM,SAblCC,G","sources":["node_modules/throttleit/index.js","src/js/03-feedback.js"],"sourcesContent":["module.exports = throttle;\n\n/**\n * Returns a new function that, when invoked, invokes `func` at most once per `wait` milliseconds.\n *\n * @param {Function} func Function to wrap.\n * @param {Number} wait Number of milliseconds that must elapse between `func` invocations.\n * @return {Function} A new function that wraps the `func` function passed in.\n */\n\nfunction throttle (func, wait) {\n  var ctx, args, rtn, timeoutID; // caching\n  var last = 0;\n\n  return function throttled () {\n    ctx = this;\n    args = arguments;\n    var delta = new Date() - last;\n    if (!timeoutID)\n      if (delta >= wait) call();\n      else timeoutID = setTimeout(call, wait - delta);\n    return rtn;\n  };\n\n  function call () {\n    timeoutID = 0;\n    last = +new Date();\n    rtn = func.apply(ctx, args);\n    ctx = null;\n    args = null;\n  }\n}\n","import throttle from 'throttleit';\n\nconst formRef = document.querySelector('.feedback-form');\nformRef.addEventListener('input', throttle(onInput, 500));\nformRef.addEventListener('submit', onFormSubmit);\nconst STORAGE_KEY = 'feedback-form-state';\nconst data = {};\n\nfillFormOnLoad();\n\nfunction onInput(evt) {\n  data[evt.target.name] = evt.target.value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nfunction fillFormOnLoad() {\n  const savedData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (savedData) {\n    const inputRef = formRef.querySelector('input');\n    const textareaRef = formRef.querySelector('textarea');\n    inputRef.value = savedData.email;\n    textareaRef.value = savedData.message;\n  }\n}\n\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  console.log(data);\n  evt.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n"],"names":["$bbb196b2768299a5$exports","func","wait","ctx","args","rtn","timeoutID","last","this","arguments","delta","Date","call","setTimeout","apply","$b00c40859be242c5$var$formRef","document","querySelector","addEventListener","$parcel$interopDefault","evt","$b00c40859be242c5$var$data","target","name","value","localStorage","setItem","$b00c40859be242c5$var$STORAGE_KEY","JSON","stringify","preventDefault","console","log","currentTarget","reset","removeItem","savedData","parse","getItem","inputRef","textareaRef","email","message","$b00c40859be242c5$var$fillFormOnLoad"],"version":3,"file":"03-feedback.aef7f3cd.js.map"}